---
title: "ClimateData"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
library(readr)
library(ggplot2)
library(stringr)
library(readr)
library(dplyr)
library(corrplot)
library(car)
library(lattice)
library(caret)
library(readr)
library(tidyverse)
library(janitor)
library(leaflet)
library(sf)
library(mapview)
library(usmap)
library(leafpop)
library(maps) 
climateData <- read_csv("climateData.csv")
climateData <- clean_names(climateData)
View(climateData)


#new dataset
FullClimateData <- read_csv("FullClimateDataset.csv")
FullClimateData <- clean_names(FullClimateData)

```

```{r}
# #separating the green resources column into 5 columns 
# climateData <- climateData %>% 
#   separate(green_power_resources, into = c("energy1", "energy2", "energy3", "energy4", "energy5"), sep = ",")
# View(climateData)
```

```{r}
climateData$wind <- apply(climateData, 1, function(x)as.integer(any(grep('Wind',x))))
climateData$solar <- apply(climateData, 1, function(x)as.integer(any(grep('Solar',x))))
climateData$Biomas <- apply(climateData, 1, function(x)as.integer(any(grep('Biomas',x))))
climateData$Biogas <- apply(climateData, 1, function(x)as.integer(any(grep('Biogas',x))))
climateData$SmallHydro <- apply(climateData, 1, function(x)as.integer(any(grep('Small-hydro',x))))
climateData$Geothermal <- apply(climateData, 1, function(x)as.integer(any(grep('Geothermal',x))))
climateData$Various <- apply(climateData, 1, function(x)as.integer(any(grep('Various',x))))
View(climateData)

climateData$lat <-as.numeric(climateData$lat)
climateData$long <-as.numeric(climateData$long)


```


```{r}
#finding distinct colleges in dataset
#unique(climateData[c("college_name")])

#creating excel file
library("xlsx")
write.xlsx(unique(climateData[c("college_name")]), file = "uniquecolleges.xlsx", sheetName = "UNIQUE COLLEGES", append = FALSE)



```


```{r}
climate <- st_as_sf(climateData, coords = c("long", "lat"),  crs = 4326)
mapview(
  climate, 
  map.types = "Stamen.TonerLite", 
  popup = TRUE, 
  zcol = "rank", 
  at = c(1, 5, 10, 15, 20, 25, 30) 
  )
```




```{r}

```

